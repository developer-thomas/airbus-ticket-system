<section class="mb-10">
  <img class="w-full object-cover h-96" [src]="flight.aircraft.image" alt="" />

  <div class="w-11/12 mx-auto pt-16">
    <h2 class="text-3xl font-semibold mb-10">Detalhes do voo</h2>

    <div class="grid grid-cols-3 gap-4">
      <div>
        <h4 class="text-2xl font-bold text-orange mb-5">Itinerário do voo</h4>
        <div class="font-medium text-lg flex gap-x-2 mb-5">
          <img ngSrc="assets/svg/calendar.svg" height="20" width="20" />
          <p>{{ flight.date }}, às {{ flight.departureTime }}</p>
        </div>
        <div class="flex items-center">
          <img ngSrc="assets/svg/timeline.svg" height="80" width="60" />
          <div class="flex flex-col justify-between h-64">
            <article>
              <p class="font-bold text-lg text-orange">
                {{ flight.departureTime }}
              </p>
              <p class="font-bold">
                {{ flight.departureAirport.iata }}
                <span *ngIf="flight.departureAirport.iata">, </span>
                {{ flight.departureAirport.icao }}
              </p>
              <p>
                {{ flight.departureAirport.name }} -
                {{ flight.departureAirport.city }}
              </p>
            </article>
            <article>
              <p class="font-bold text-lg text-orange">
                {{ flight.arrivalTime }}
              </p>
              <p class="font-bold">
                {{ flight.arrivalAirport.iata }}
                <span *ngIf="flight.departureAirport.iata">, </span>
                {{ flight.arrivalAirport.icao }}
              </p>
              <p>
                {{ flight.arrivalAirport.name }} -
                {{ flight.arrivalAirport.city }}
              </p>
            </article>
          </div>
        </div>
      </div>

      <div>
        <h4 class="text-2xl font-bold text-orange mb-5">
          Detalhes da aeronave
        </h4>
        <div class="flex items-center gap-3 text-lg font-medium" *ngIf="!exclusiveType">
          <img ngSrc="assets/svg/nav-orange.svg" height="80" width="50" />
          <div>
            <p class="font-bold text-orange">{{ flight.aircraft.model }}</p>
            <p>
              {{ flight.aircraft.manufacturer }} -
              {{ flight.aircraft.numberOfSeats }} assentos
            </p>
          </div>
        </div>
        <div class="mt-5">
          <p class="font-bold">Descrição</p>
          <p>{{ flight.aircraft.description }}</p>
        </div>
      </div>

      <div>
        <div class="grid grid-cols-1 gap-x-4" *ngIf="!exclusiveType">
          <div
            class="flex flex-wrap items-center gap-x-2 box rounded-lg p-2 text-sm"
          >
            <mat-radio-button
              (change)="
                selectType(
                  'seat',
                  flight.pricePerSeat,
                  flight.numberOfSeats - flight.purchasedSeats
                )
              "
            ></mat-radio-button>
            <img ngSrc="assets/svg/assento.svg" height="80" width="20" />
            <article class="leading-tight">
              <p>{{ flight.pricePerSeat | currency : "BRL" }}</p>
              <p>por assento</p>
              <p class="text-orange font-medium">
                {{ flight.numberOfSeats - flight.purchasedSeats }} assentos
                disponíveis
              </p>
            </article>
          </div>
        </div>

        <div class="my-4 grid grid-cols-2 gap-x-4" *ngIf="show">
          <article class="leading-tight">
            <p class="text-mb-black-200 font-bold">
              Valor total: {{ value * count | currency : "BRL" }}
            </p>
            <p class="text-orange font-medium">
              {{ quantity }}
              {{ type == "luggage" ? "vagas" : "assentos" }} disponíveis
            </p>
          </article>
          <div class="flex items-center justify-between w-1/3 gap-x-5">
            <button mat-icon-button [disabled]="!count" (click)="remove()">
              <mat-icon class="text-orange">remove</mat-icon>
            </button>
            <p>{{ count }}</p>
            <button mat-icon-button [disabled]="!quantity" (click)="add()">
              <mat-icon class="text-orange">add</mat-icon>
            </button>
          </div>
        </div>
        <div>
          <article *ngIf="exclusiveType">
            <h4 class="text-2xl font-bold text-orange">Aeronave exclusiva</h4>
            <p class="text-lg font-medium text-orange">
              {{ flight.totalValue | currency : "BRL" }}
            </p>
          </article>

          <button
            (click)="reserve()"
            class="bg-mb-black-200 text-white rounded-lg font-bold py-4 w-full mt-3"
          >
            Reservar
          </button>
        </div>
      </div>

      <div class="col-span-2">
        <h4 class="text-2xl font-bold text-orange">Informações secundárias</h4>

        <div class="flex gap-x-4">
          <div class="flex items-start gap-x-4">
            <img ngSrc="assets/svg/embarque.svg" height="80" width="50" />
            <article>
              <h5 class="text-lg font-bold text-mb-black-200">
                Instruções de embarque
              </h5>
              <p>
                {{ flight.departureAirport.city }},
                {{ flight.departureAirport.shortCountry }}
              </p>
              <a [href]="flight.departureLink" target="_blank" class="mt-4">
                <button
                  class="bg-mb-black-200 text-white rounded-lg font-bold py-4 w-48 mt-3"
                >
                  Localização
                </button>
              </a>
            </article>
          </div>
          <div class="flex items-start gap-x-4">
            <img ngSrc="assets/svg/desembarque.svg" height="80" width="50" />
            <article>
              <h5 class="text-lg font-bold text-mb-black-200">
                Instruções de desembarque
              </h5>
              <p>
                {{ flight.arrivalAirport.city }},
                {{ flight.arrivalAirport.shortCountry }}
              </p>
              <a [href]="flight.arrivalLink" target="_blank">
                <button
                  class="bg-mb-black-200 text-white rounded-lg font-bold py-4 w-48 mt-3"
                >
                  Localização
                </button>
              </a>
            </article>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<swal #confirmSwal [text]="successText" icon="success" (confirm)="confirm()">
</swal>
